# 第一章 引言



### 章节大纲

---

**[1.1 异构并行计算](1.1.md)**

**[1.2 为什么需要更高的速度或并行性](1.2.md)**

**[1.3 加速实际应用](1.3.md) **

**1.4 并行编程的挑战 **

**1.5 相关的并行编程接口 **

**1.6 总体目标**

**1.7 本书的组织结构 **

**参考文献 **



​	自计算机出现以来，许多高价值的应用程序一直需要比计算设备所能提供的更高的执行速度和资源。早期的应用程序依赖于处理器速度、内存速度和内存容量的进步，以增强应用级能力，例如天气预报的及时性、工程结构分析的准确性、计算机生成图形的逼真度、每秒处理的航空公司预订数量以及每秒处理的资金转账数量。最近，像深度学习这样的新应用程序要求比最好的计算设备能提供的更高的执行速度和资源。这些应用需求推动了过去五十年中计算设备能力的快速进步，并将在可预见的未来继续推动这一进步。

​	基于单个中央处理单元（CPU）的微处理器看起来像是在按顺序执行指令，例如Intel和AMD的386处理器，凭借快速增加的时钟频率和硬件资源，推动了1980年代和1990年代计算机应用性能的迅速提升和成本的降低。在这二十年的增长过程中，这些单CPU微处理器将GFLOPS（每秒十亿次浮点运算）带到了桌面计算机，将TFLOPS（每秒一万亿次浮点运算）带到了数据中心。这种对性能改进的不懈追求使得应用软件能够提供更多功能、更好的用户界面和更有用的结果。反过来，用户一旦习惯了这些改进，就会要求更多的改进，形成了计算机行业的一个积极（良性）循环。

​	然而，由于能量消耗和散热问题，这种推动自2003年以来已经放缓。这些问题限制了时钟频率的增加以及在单个CPU每个时钟周期内可以执行的生产活动，同时还要保持按顺序执行指令的外观。从那时起，几乎所有的微处理器厂商都转向了一种模型，在每个芯片中使用多个物理CPU（称为处理器核心）来增加处理能力。在这种模型中，传统的CPU可以视为单核CPU。为了从多个处理器核心中受益，用户必须有多个指令序列，无论是来自同一个应用程序还是不同的应用程序，这些指令序列可以在这些处理器核心上同时执行。为了让某个特定应用程序从多个处理器核心中受益，其工作必须被划分为多个指令序列，能够在这些处理器核心上同时执行。这种从单个CPU按顺序执行指令到多个核心并行执行多个指令序列的转变，对软件开发者社区产生了巨大影响。

​	传统上，绝大多数软件应用程序是作为顺序程序编写的，这些程序由处理器执行，其设计理念源自冯·诺依曼在1945年发表的开创性报告（[von Neumann et al., 1972](https://ieeexplore.ieee.org/abstract/document/238389)）。这些程序的执行可以被人类理解为基于程序计数器（在文献中也称为指令指针）按顺序逐步执行。程序计数器包含处理器将执行的下一条指令的内存地址。这种应用程序按顺序逐步执行指令活动的顺序在文献中被称为执行线程，或简称线程。线程的概念非常重要，本书将更正式地定义并广泛使用这个概念。

历史上，大多数软件开发人员依赖于硬件的进步，例如时钟速度的提高和在幕后执行多条指令，以增加他们顺序应用程序的速度；随着每一代处理器的推出，相同的软件运行得更快。计算机用户也期望这些程序在每一代微处理器上运行得更快。然而，这种期望在过去十多年里已不再有效。顺序程序只会运行在一个处理器核心上，而这个核心不会在每一代之间显著加快速度。没有性能提升，应用程序开发人员将无法在新微处理器推出时在他们的软件中引入新功能和能力；这会减少整个计算机行业的增长机会。

相反，随着每一代微处理器的推出，能够继续享受显著性能提升的应用软件将是并行程序，其中多个执行线程协同工作以更快地完成任务。并行程序相对于顺序程序的这种新的、显著提高的优势被称为并发革命（Sutter and Larus, 2005）。并行编程的实践并不新鲜。高性能计算（HPC）社区已经开发并行程序数十年。这些并行程序通常运行在昂贵的大型计算机上。只有少数精英应用程序能够证明使用这些计算机的合理性，因此并行编程的实践仅限于少数应用程序开发人员。现在，所有新微处理器都是并行计算机，需要开发为并行程序的应用程序数量大幅增加。现在，软件开发人员迫切需要学习并行编程，而这正是本书的重点。







